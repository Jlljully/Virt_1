
# Домашнее задание к занятию 1.  «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»


## Задача 1

Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ

Паравиртуализация: гипервизор устанавливается поверх хостовой ОСи
Аппаратная виртуализация: гипервизор устанавливается вместо хостовой ОСи (гипервизор берет на себя ее функции)
Виртуализция на уровне ОСи: роль гипервизора отдается ядру хостовой ОСи, внутри которой изолируются контейнеры, эмулируя отдельные ВМ со своим набором ресурсов, но с оним и тем же ядром ОС

## Задача 2

Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- высоконагруженная база данных, чувствительная к отказу; 
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ

- высоконагруженная база данных, чувствительная к отказу; - паравиртуализация 
Я бы выбрала вообще аппаратную виртуализцию сюда для экономии ресурсов, но так как ее нет в вариантах, то паравиртуализация. Продукты с надежными файловерами, лайф мигарцией и тд - для поддержания требуемого уровня SLA
- различные web-приложения; - виртуализация уровня ОС. 
Потому что само напрашивается - легко разворачивать из-за большого набора образов докера. Удобно менеджерить с удалением неактуальных контейнеров 
- Windows-системы для использования бухгалтерским отделом; - паравиртуализация,
Потому что бухгалтера нервные и крикливые, если что-то лежит, так что высокий SLA нужен. 
- системы, выполняющие высокопроизводительные расчёты на GPU. - физические сервера,
Чтоб не отнимать лишние ресурсы и не было прослойки на использования графических ядер

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ

1. VMware vSphere. Нет требований по стоимости, а значит это - идеальный кандидат. (Так как курс не адаптирован пока к текущим реалиям и нам не приходит выбирать между Брестом и Звиртом). Лушая реализация балансировки (DRS SDRS), репликации (SRM VR) и бекапирования (сторонние энтерпрайз продукты почти все совместимы + снапшоты), из того, что мне встречалось
2. Xen HVM - самая удобная в этом случае. Не встречала его вживую, но если верить лекции.... 
3. Исходя из лекции, где всего два варианта опен-сорс рассмотрены, это снова Xen, но я бы уточнила количество хостов и ВМ - может, обошлись бы бесплатной версией hyper-V. Или, опять же, proxmox, который просится дописать его и во второй пункт - его я чаще встречаю, чем xen, увиденный ни разу
4. Опять нет требований по цене, поэтому мощная vmware vsphere , на ней linux-овые машины нужных дистрибутивов, на которых докер контейнерами выдает ресурсы для тестирования, для простоты удаления и развертывания новой песочницы для тестов.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ

У клиента была одновременно виртуализация на IBM power и на vmware vsphere: повышаются затраты на квалифицированные кадры, для каждой системы своя настройка мониторинга, сбора логов и статистики, нет единой точки администрирования, при исчерпании ресурсов нельзя просто так перекинуть что-то в более свободную среду. 
Требуется очень мощный архитектор, способный к аналитике, чтоб это не превратилось в постоянный карнавал. 
Я бы отказалась от гетерогенности, распраделив сервисы по кластерам: более мощные сервера и СХД наиважнейшим системам, более старые - в тест.
